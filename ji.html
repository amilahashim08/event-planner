<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sa.bbi - Event Management Dashboard</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-color: #9B4431;
            --body-bg: #F1EDE1;
            --card-hover-bg: #FFF5F3;
            --card-hover-border: #9B4431;
            --sidebar-width: 250px;
            --sidebar-collapsed-width: 70px;
        }

        body {
            background-color: var(--body-bg);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }

        /* Sidebar Styles */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: var(--sidebar-width);
            background-color: #fff;
            transition: width 0.3s ease;
            z-index: 1000;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }

        .sidebar.collapsed {
            width: var(--sidebar-collapsed-width);
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .toggle-btn {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: #666;
        }

        .sidebar-nav {
            padding: 20px 0;
        }

        .nav-item {
            margin: 10px 0;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: #666;
            text-decoration: none;
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .nav-link:hover,
        .nav-link.active {
            background-color: var(--primary-color);
            color: white;
        }

        .nav-link i {
            width: 20px;
            margin-right: 15px;
            font-size: 18px;
        }

        .sidebar.collapsed .nav-link span {
            display: none;
        }

        .sidebar.collapsed .nav-link {
            justify-content: center;
        }

        .sidebar.collapsed .nav-link i {
            margin-right: 0;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            transition: margin-left 0.3s ease;
            min-height: 100vh;
        }

        .main-content.sidebar-collapsed {
            margin-left: var(--sidebar-collapsed-width);
        }

        /* Header */
        .header {
            background-color: #fff;
            padding: 15px 30px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left h4 {
            margin: 0;
            color: #333;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .language-selector {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }

        .notification-icon,
        .profile-image {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
        }

        .notification-icon {
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ddd;
        }

        .profile-image {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Content Area */
        .content-area {
            padding: 30px;
        }

        .content-header {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .content-header h3 {
            margin: 0;
            color: #333;
        }

        .controls-section {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .controls-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .filter-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .date-filter {
            position: relative;
        }

        .date-filter input {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 8px 15px;
            width: 150px;
        }

        .search-bar {
            position: relative;
        }

        .search-bar input {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 8px 15px;
            width: 200px;
            padding-left: 40px;
        }

        .search-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .add-event-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 500;
        }

        .add-event-btn:hover {
            background-color: #7d3626;
        }

        /* Event Cards */
        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .event-card {
            background-color: #fff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .event-card:hover {
            background-color: var(--card-hover-bg);
            border-color: var(--card-hover-border);
            transform: translateY(-2px);
        }

        .event-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .event-content {
            padding: 15px;
        }

        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .event-type {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--primary-color);
            font-weight: 500;
        }

        .event-actions {
            display: flex;
            gap: 5px;
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            padding: 5px;
            border-radius: 3px;
            font-size: 14px;
        }

        .action-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .event-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .event-details {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .event-date {
            color: #888;
            font-size: 12px;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .modal-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .delete-icon {
            background-color: #ffebee;
            color: var(--primary-color);
        }

        .success-icon {
            background-color: #e8f5e8;
            color: #4caf50;
        }

        .warning-icon {
            background-color: #fff8e1;
            color: #ff9800;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }

        .modal-message {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .modal-btn {
            padding: 10px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #7d3626;
        }

        .btn-secondary {
            background-color: #f5f5f5;
            color: #666;
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
        }

        /* Event Type Selection Modal */
        .event-type-modal .modal-content {
            max-width: 800px;
            width: 95%;
            padding: 40px;
        }

        .event-types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .event-type-option {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .event-type-option:hover,
        .event-type-option.selected {
            border-color: var(--primary-color);
            background-color: #fef7f5;
        }

        .event-type-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .event-type-name {
            font-weight: 600;
            color: #333;
        }

        /* Event Form Modal */
        .event-form-modal .modal-content {
            max-width: 900px;
            width: 95%;
            padding: 40px;
            text-align: left;
            max-height: 90vh;
            overflow-y: auto;
        }

        .form-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #f0f0f0;
        }

        .form-section:last-of-type {
            border-bottom: none;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            margin-top: 0;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            background-color: #fff;
        }

        .form-textarea {
            resize: vertical;
            font-family: inherit;
        }

        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background-color: #fafafa;
        }

        .upload-area.compact {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 14px;
            color: #666;
        }

        .upload-area:hover {
            border-color: var(--primary-color);
            background-color: #fef7f5;
        }

        .upload-icon {
            font-size: 18px;
            color: #999;
        }

        /* Calendar and Time Picker Enhancements */
        .calendar-container {
            position: relative;
        }

        .calendar-input {
            padding-right: 40px !important;
        }

        .calendar-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            pointer-events: none;
        }

        .time-picker-input {
            position: relative;
        }

        .time-display {
            padding-right: 40px !important;
        }

        .time-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            pointer-events: none;
        }

        .time-picker-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 15px;
        }

        .time-picker-dropdown.show {
            display: block !important;
        }

        .add-more-btn {
            background: none;
            border: none;
            color: #007bff;
            cursor: pointer;
            font-size: 14px;
            text-decoration: underline;
        }

        .add-more-btn:hover {
            color: #0056b3;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }

        /* Dashboard Styles */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        /* Responsive stats grid */
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }

        /* Analytics Section Styles */
        .analytics-section {
            margin-bottom: 30px;
        }

        .analytics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .analytics-card {
            background: white;
            border-radius: 15px;
            padding: 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .analytics-header {
            padding: 20px 25px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .analytics-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            overflow: hidden;
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .analytics-content {
            padding: 25px;
        }

        /* Pie Chart Styles */
        .pie-chart-container {
            display: flex;
            align-items: center;
            gap: 30px;
        }

        .pie-chart {
            flex-shrink: 0;
        }

        .chart-legend {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .legend-text {
            flex: 1;
            font-size: 14px;
            color: #666;
        }

        .legend-percent {
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        /* Checklist Card Styles */
        .checklist-card .analytics-content {
            padding: 20px 25px;
        }

        .checklist-header-main {
            background-color: #F5F2E8;
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .checklist-title-section {
            flex: 1;
        }

        .checklist-title-section h3 {
            margin: 0 0 8px 0;
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .checklist-subtitle-section {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .checklist-subtitle {
            font-size: 12px;
            color: #999;
        }

        .checklist-event-type {
            font-size: 14px;
            font-weight: 600;
            color: #9B4431;
        }

        .checklist-items {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .checklist-user {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .checklist-user img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
        }

        .checklist-details h4 {
            margin: 0;
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }

        .checklist-details p {
            margin: 2px 0 0 0;
            font-size: 12px;
            color: #666;
        }

        .progress-section {
            text-align: right;
            min-width: 80px;
        }

        .progress-percent {
            font-size: 12px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
            display: block;
        }

        .progress-bar {
            width: 60px;
            height: 6px;
            background-color: #f0f0f0;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        /* Chart Card Styles */
        .chart-card {
            background: white;
            border-radius: 15px;
            padding: 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .chart-header {
            padding: 20px 25px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chart-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .year-dropdown {
            padding: 8px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
            font-size: 14px;
            color: #666;
        }

        .chart-container {
            padding: 25px;
            text-align: center;
        }

        .chart-legend-horizontal {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px 25px;
            border-top: 1px solid #f0f0f0;
            justify-content: center;
        }

        .chart-legend-horizontal .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Responsive Design for Analytics */
        @media (max-width: 768px) {
            .analytics-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .pie-chart-container {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .chart-legend-horizontal {
                flex-direction: column;
                gap: 10px;
            }
            
            .checklist-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .progress-section {
                align-self: flex-end;
            }
        }

        @media (max-width: 480px) {
            .analytics-header {
                padding: 15px 20px;
            }
            
            .analytics-content {
                padding: 20px;
            }
            
            .checklist-header-main {
                padding: 15px 20px;
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .chart-header {
                padding: 15px 20px;
            }
            
            .chart-container {
                padding: 20px;
            }
        }

        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stat-card:hover {
            border: 2px solid #9B4431;
            transform: translateY(-2px);
        }

        .stat-card:hover .stat-number {
            display: none;
        }

        .stat-card:hover .stat-title {
            font-weight: bold;
        }

        .stat-card.upcoming {
            border-color: #D4A574;
        }

        .stat-card.total {
            border-color: #6B9BD2;
        }

        .stat-card.tasks {
            border-color: #8FBC8F;
        }

        .stat-card.rsvp {
            border-color: #E85A5A;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .stat-card.upcoming .stat-icon {
            background-color: rgba(212, 165, 116, 0.2);
            color: #D4A574;
        }

        .stat-card.total .stat-icon {
            background-color: rgba(107, 155, 210, 0.2);
            color: #6B9BD2;
        }

        .stat-card.tasks .stat-icon {
            background-color: rgba(143, 188, 143, 0.2);
            color: #8FBC8F;
        }

        .stat-card.rsvp .stat-icon {
            background-color: rgba(232, 90, 90, 0.2);
            color: #E85A5A;
        }

        .stat-content {
            flex: 1;
        }

        .stat-title {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 600;
            color: #333;
        }

        /* Calendar Widget Styles */
        .calendar-widget {
            background: white;
            border-radius: 10px;
            padding: 0;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .calendar-widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 25px;
            border-bottom: 1px solid #eee;
        }

        .calendar-widget-header h3 {
            margin: 0;
            color: #333;
            font-size: 20px;
            font-weight: 600;
        }

        .calendar-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .profile-image.small {
            width: 30px;
            height: 30px;
            font-size: 12px;
        }

        .calendar-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
        }

        .nav-btn {
            background: none;
            border: none;
            color: #333;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-btn:hover {
            color: var(--primary-color);
        }

        .current-month {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .calendar-grid-widget {
            padding: 0 25px 25px 25px;
        }

        .calendar-weekdays-widget {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }

        .weekday {
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            color: #666;
            padding: 8px 5px;
        }

        .calendar-days-widget {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day-widget {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease;
            padding: 8px 4px;
            position: relative;
            min-height: 80px;
        }

        .calendar-day-widget {
            background-color: #EBB6AB;
        }

        .calendar-day-widget:hover {
            background-color: #d9a495;
        }

        .calendar-day-widget.other-month {
            color: #999;
        }

        .calendar-day-widget.today {
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .day-number {
            margin-bottom: 4px;
            font-weight: 500;
        }

        .day-events {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .day-event {
            background-color: #90EE90;
            color: #2d5a3d;
            font-size: 8px;
            padding: 2px 4px;
            border-radius: 4px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .day-event:hover {
            background-color: #7FDD7F;
        }

        .day-event.birthday {
            background-color: #FFB6C1;
            color: #8B1538;
        }

        /* Event Detail Modal */
        .event-detail-modal .modal-content {
            position: fixed;
            top: 528px;
            left: 861px;
            width: 553px;
            height: 520px;
            max-width: none;
            padding: 0;
            border-radius: 15px;
            overflow: hidden;
            background-color: #F5F2E8;
        }

        /* Responsive adjustments for event detail modal */
        @media (max-width: 1400px) {
            .event-detail-modal .modal-content {
                position: relative;
                top: auto;
                left: auto;
                width: 90%;
                max-width: 553px;
                height: auto;
                margin: 50px auto;
            }
        }

        @media (max-width: 768px) {
            .event-detail-modal .modal-content {
                width: 95%;
                max-width: none;
                margin: 20px auto;
            }
            
            .event-title-section {
                margin: -20px -20px 15px -20px;
                padding: 15px 20px;
            }
            
            .event-detail-body {
                padding: 20px;
            }
        }

        .event-detail-content {
            width: 100%;
        }

        .event-detail-header {
            background-color: #F5F2E8;
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            display: flex;
            justify-content: flex-end;
        }

        .event-detail-actions {
            display: flex;
            gap: 10px;
        }

        .detail-action-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            font-size: 16px;
            padding: 5px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .detail-action-btn:hover {
            background-color: #e9ecef;
            color: #333;
        }

        .event-detail-body {
            padding: 25px;
            background-color: #F5F2E8;
        }

        .event-title-section {
            background-color: #D4B5A0;
            margin: -25px -25px 20px -25px;
            padding: 20px 25px;
            border-radius: 10px 10px 0 0;
        }

        .event-detail-title {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 20px;
            font-weight: 600;
        }

        .event-detail-info {
            margin-bottom: 20px;
        }

        .event-detail-row {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .event-detail-row i {
            color: #666;
            margin-top: 2px;
            width: 16px;
        }

        .guest-status {
            font-size: 12px;
            color: #666;
        }

        .event-guests {
            margin: 20px 0;
        }

        .guest-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .guest-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            overflow: hidden;
        }

        .guest-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .guest-info {
            flex: 1;
        }

        .guest-name {
            font-size: 14px;
            color: #333;
        }

        .guest-role {
            font-size: 12px;
            color: #666;
        }

        .created-by {
            font-size: 12px;
            color: #666;
        }

        .rsvp-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .rsvp-question {
            font-weight: 500;
            color: #333;
        }

        .rsvp-buttons {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .rsvp-btn {
            padding: 6px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            color: #666;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s ease;
        }

        .rsvp-btn:hover {
            border-color: #999;
        }

        .rsvp-btn.active.yes {
            background-color: #d4edda;
            border-color: #28a745;
            color: #28a745;
        }

        .rsvp-btn.active.no {
            background-color: #f8d7da;
            border-color: #dc3545;
            color: #dc3545;
        }

        .rsvp-btn.active.maybe {
            background-color: #fff3cd;
            border-color: #ffc107;
            color: #856404;
        }

        .rsvp-dropdown {
            background: none;
            border: none;
            cursor: pointer;
            color: #666;
            font-size: 12px;
            padding: 6px;
        }

        /* Custom Calendar */
        .calendar-container {
            position: relative;
        }

        .custom-calendar {
            position: absolute;
            top: 100%;
            left: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
            min-width: 280px;
        }

        .custom-calendar.show {
            display: block;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        .calendar-nav {
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            border-radius: 3px;
        }

        .calendar-nav:hover {
            background-color: #f5f5f5;
        }

        .calendar-grid {
            padding: 15px;
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }

        .calendar-weekday {
            text-align: center;
            font-size: 12px;
            font-weight: 600;
            color: #666;
            padding: 5px;
        }

        .calendar-days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 4px;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .calendar-day:hover {
            background-color: #f5f5f5;
        }

        .calendar-day.today {
            background-color: var(--primary-color);
            color: white;
        }

        .calendar-day.selected {
            background-color: var(--primary-color);
            color: white;
        }

        .calendar-day.other-month {
            color: #ccc;
        }

        /* Time Picker */
        .time-picker {
            display: flex;
            align-items: center;
            gap: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 8px 12px;
        }

        .time-input {
            width: 40px;
            text-align: center;
            border: none;
            outline: none;
            font-size: 16px;
            font-weight: 500;
        }

        .time-separator {
            font-size: 16px;
            font-weight: 500;
        }

        .am-pm-toggle {
            display: flex;
            border: 1px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
        }

        .am-pm-option {
            padding: 5px 10px;
            background: white;
            border: none;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s ease;
        }

        .am-pm-option.active {
            background-color: var(--primary-color);
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: var(--sidebar-collapsed-width);
            }

            .main-content {
                margin-left: var(--sidebar-collapsed-width);
            }

            .header {
                padding: 15px 20px;
            }

            .content-area {
                padding: 20px;
            }

            .controls-row {
                flex-direction: column;
                align-items: stretch;
            }

            .filter-controls {
                flex-direction: column;
                gap: 10px;
            }

            .events-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .header-right {
                gap: 10px;
            }

            .language-selector span {
                display: none;
            }

            .search-bar input {
                width: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">sa.bbi</div>
            <button class="toggle-btn" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="navigateTo('dashboard')">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link active" onclick="navigateTo('events')">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Events</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="navigateTo('contacts')">
                    <i class="fas fa-users"></i>
                    <span>Contacts</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="navigateTo('templates')">
                    <i class="fas fa-file-alt"></i>
                    <span>Templates</span>
                </a>
            </div>
            <div class="nav-item">
                <a href="#" class="nav-link" onclick="navigateTo('settings')">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <h4>Events</h4>
            </div>
            <div class="header-right">
                <div class="language-selector">
                    <i class="fas fa-globe"></i>
                    <span>English</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="notification-icon">
                    <i class="fas fa-bell"></i>
                </div>
                <div class="profile-image">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard Content -->
            <div >
                <!-- Dashboard Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card upcoming">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-title">Upcoming Events</div>
                            <div class="stat-number">12</div>
                        </div>
                    </div>
                    <div class="stat-card total">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-title">Total Events</div>
                            <div class="stat-number">48</div>
                        </div>
                    </div>
                    <div class="stat-card tasks">
                        <div class="stat-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-title">Tasks Due</div>
                            <div class="stat-number">7</div>
                        </div>
                    </div>
                    <div class="stat-card rsvp">
                        <div class="stat-icon">
                            <i class="fas fa-reply"></i>
                        </div>
                        <div class="stat-content">
                            <div class="stat-title">RSVPs Pending</div>
                            <div class="stat-number">23</div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Section -->
                <div class="analytics-section">
                    <div class="analytics-grid">
                        <!-- Event Type Distribution Card -->
                        <div class="analytics-card">
                            <div class="analytics-header">
                                <h3>Event Type Distribution</h3>
                            </div>
                            <div class="analytics-content">
                                <div class="pie-chart-container">
                                    <div class="pie-chart">
                                        <canvas id="eventTypeChart" width="200" height="200"></canvas>
                                    </div>
                                    <div class="chart-legend">
                                        <div class="legend-item">
                                            <span class="legend-color" style="background-color: #9B4431;"></span>
                                            <span class="legend-text">Wedding</span>
                                            <span class="legend-percent">50%</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-color" style="background-color: #D4B5A0;"></span>
                                            <span class="legend-text">Corporate</span>
                                            <span class="legend-percent">10%</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-color" style="background-color: #E8C4B0;"></span>
                                            <span class="legend-text">Birthday</span>
                                            <span class="legend-percent">10%</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-color" style="background-color: #A67B5B;"></span>
                                            <span class="legend-text">Baby Shower</span>
                                            <span class="legend-percent">10%</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-color" style="background-color: #F5F2E8;"></span>
                                            <span class="legend-text">Anniversary</span>
                                            <span class="legend-percent">10%</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-color" style="background-color: #C19A6B;"></span>
                                            <span class="legend-text">Graduation Party</span>
                                            <span class="legend-percent">10%</span>
                                        </div>
                                        <div class="legend-item">
                                            <span class="legend-color" style="background-color: #DEB887;"></span>
                                            <span class="legend-text">Other Event</span>
                                            <span class="legend-percent">10%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Upcoming Events Checklist Card -->
                        <div class="analytics-card checklist-card">
                            <div class="checklist-header-main">
                                <div class="checklist-title-section">
                                    <h3>Upcoming events checklist</h3>
                                    <div class="checklist-subtitle-section">
                                        <span class="checklist-subtitle">Weekly Planned Event</span>
                                        <span class="checklist-event-type">Wedding</span>
                                    </div>
                                </div>
                                <div class="user-avatar">
                                    <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMjAiIGZpbGw9IiNGRkE1MDAiLz4KPHN2ZyB4PSI4IiB5PSI4IiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRiI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNEMxNCA1LjEgMTMuMSA2IDEyIDZDMTAuOSA2IDEwIDUuMSAxMCA0QzEwIDIuOSAxMC45IDIgMTIgMlpNMjEgOVYyMkMyMSAyMi41NSAyMC41NSAyMyAyMCAyM0g0QzMuNDUgMjMgMyAyMi41NSAzIDIyVjlDMyA4LjQ1IDMuNDUgOCA0IDhINUwxMC41IDEzLjVMMTIgMTJMMTMuNSAxMy41TDE5IDhIMjBDMjAuNTUgOCAyMSA4LjQ1IDIxIDlaIiBmaWxsPSIjRkZGIi8+Cjwvc3ZnPgo8L3N2Zz4K" alt="User Avatar">
                                </div>
                            </div>
                            <div class="analytics-content">
                                
                                <div class="checklist-items">
                                    <div class="checklist-item">
                                        <div class="checklist-user">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTUiIGZpbGw9IiNGRkE1MDAiLz4KPHN2ZyB4PSI2IiB5PSI2IiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRiI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNEMxNCA1LjEgMTMuMSA2IDEyIDZDMTAuOSA2IDEwIDUuMSAxMCA0QzEwIDIuOSAxMC45IDIgMTIgMlpNMjEgOVYyMkMyMSAyMi41NSAyMC41NSAyMyAyMCAyM0g0QzMuNDUgMjMgMyAyMi41NSAzIDIyVjlDMyA4LjQ1IDMuNDUgOCA0IDhINUwxMC41IDEzLjVMMTIgMTJMMTMuNSAxMy41TDE5IDhIMjBDMjAuNTUgOCAyMSA4LjQ1IDIxIDlaIiBmaWxsPSIjRkZGIi8+Cjwvc3ZnPgo8L3N2Zz4K" alt="User">
                                            <div class="checklist-details">
                                                <h4>Birthday Party</h4>
                                                <p>Emma's 10th Birthday</p>
                                            </div>
                                        </div>
                                        <div class="progress-section">
                                            <span class="progress-percent">60%</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 60%; background-color: #9B4431;"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="checklist-item">
                                        <div class="checklist-user">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTUiIGZpbGw9IiM2QjlCRDIiLz4KPHN2ZyB4PSI2IiB5PSI2IiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRiI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNEMxNCA1LjEgMTMuMSA2IDEyIDZDMTAuOSA2IDEwIDUuMSAxMCA0QzEwIDIuOSAxMC45IDIgMTIgMlpNMjEgOVYyMkMyMSAyMi41NSAyMC41NSAyMyAyMCAyM0g0QzMuNDUgMjMgMyAyMi41NSAzIDIyVjlDMyA4LjQ1IDMuNDUgOCA0IDhINUwxMC41IDEzLjVMMTIgMTJMMTMuNSAxMy41TDE5IDhIMjBDMjAuNTUgOCAyMSA4LjQ1IDIxIDlaIiBmaWxsPSIjRkZGIi8+Cjwvc3ZnPgo8L3N2Zz4K" alt="User">
                                            <div class="checklist-details">
                                                <h4>Wedding</h4>
                                                <p>John & Brooklyn</p>
                                            </div>
                                        </div>
                                        <div class="progress-section">
                                            <span class="progress-percent">80%</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 80%; background-color: #9B4431;"></div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="checklist-item">
                                        <div class="checklist-user">
                                            <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTUiIGN5PSIxNSIgcj0iMTUiIGZpbGw9IiM4RkJDOEYiLz4KPHN2ZyB4PSI2IiB5PSI2IiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRiI+CjxwYXRoIGQ9Ik0xMiAyQzEzLjEgMiAxNCAyLjkgMTQgNEMxNCA1LjEgMTMuMSA2IDEyIDZDMTAuOSA2IDEwIDUuMSAxMCA0QzEwIDIuOSAxMC45IDIgMTIgMlpNMjEgOVYyMkMyMSAyMi41NSAyMC41NSAyMyAyMCAyM0g0QzMuNDUgMjMgMyAyMi41NSAzIDIyVjlDMyA4LjQ1IDMuNDUgOCA0IDhINUwxMC41IDEzLjVMMTIgMTJMMTMuNSAxMy41TDE5IDhIMjBDMjAuNTUgOCAyMSA4LjQ1IDIxIDlaIiBmaWxsPSIjRkZGIi8+Cjwvc3ZnPgo8L3N2Zz4K" alt="User">
                                            <div class="checklist-details">
                                                <h4>Corporate Event</h4>
                                                <p>Annual Conference</p>
                                            </div>
                                        </div>
                                        <div class="progress-section">
                                            <span class="progress-percent">40%</span>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 40%; background-color: #9B4431;"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- RSVP Rate Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3>RSVP Rate by Event</h3>
                        <select class="year-dropdown">
                            <option>2025</option>
                            <option>2024</option>
                            <option>2023</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="rsvpChart" width="800" height="300"></canvas>
                    </div>
                    <div class="chart-legend-horizontal">
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #9B4431;"></span>
                            <span class="legend-text">Wedding</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #D4B5A0;"></span>
                            <span class="legend-text">Corporate</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #E8C4B0;"></span>
                            <span class="legend-text">Baby Shower</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #A67B5B;"></span>
                            <span class="legend-text">Graduation Party</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #F5F2E8;"></span>
                            <span class="legend-text">Anniversary</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background-color: #C19A6B;"></span>
                            <span class="legend-text">Other Event</span>
                        </div>
                    </div>
                </div>

                <!-- Calendar Widget -->
                <div class="calendar-widget">
                    <div class="calendar-widget-header">
                        <h3>Calendar</h3>
                        <div class="calendar-actions">
                            <button class="add-event-btn" onclick="addEvent()">Add Event</button>
                            <div class="profile-image small">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>
                    </div>
                    <div class="calendar-navigation">
                        <button class="nav-btn" onclick="previousCalendarMonth()">&lt; April</button>
                        <h4 class="current-month">May 2025</h4>
                        <button class="nav-btn" onclick="nextCalendarMonth()">June &gt;</button>
                    </div>
                    <div class="calendar-grid-widget">
                        <div class="calendar-weekdays-widget">
                            <div class="weekday">Mon</div>
                            <div class="weekday">Tue</div>
                            <div class="weekday">Wed</div>
                            <div class="weekday">Thu</div>
                            <div class="weekday">Fri</div>
                            <div class="weekday">Sat</div>
                            <div class="weekday">Sun</div>
                        </div>
                        <div class="calendar-days-widget" id="calendarDaysWidget">
                            <!-- Calendar days will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Events Content -->
            <div id="eventsContent">
                <!-- Content Header -->
                
        </div>

    <!-- Event Detail Modal -->
    <div class="modal-overlay event-detail-modal" id="eventDetailModal">
        <div class="event-detail-content">
            <div class="event-detail-header">
                <div class="event-detail-actions">
                    <button class="detail-action-btn" onclick="editEventDetail()">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="detail-action-btn" onclick="deleteEventDetail()">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="detail-action-btn" onclick="closeModal('eventDetailModal')">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="event-detail-body">
                <div class="event-title-section">
                    <h3 class="event-detail-title" id="eventDetailTitle">Birthday Event</h3>
                    <div class="event-detail-row">
                        <i class="fas fa-clock"></i>
                        <span id="eventDetailTime">Wednesday, June 11 10:00 am - 12:30pm</span>
                    </div>
                </div>
                <div class="event-detail-info">
                    <div class="event-detail-row">
                        <i class="fas fa-users"></i>
                        <div>
                            <span id="eventDetailGuests">2 Guests</span>
                            <div class="guest-status">2 Yes</div>
                        </div>
                    </div>
                </div>
                <div class="event-guests">
                    <div class="guest-item">
                        <div class="guest-avatar">
                            <img src="https://i.pravatar.cc/40?img=1" alt="Guest" />
                        </div>
                        <div class="guest-info">
                            <div class="guest-name">john123@gmail.com</div>
                            <div class="guest-role">Organizer</div>
                        </div>
                    </div>
                    <div class="guest-item">
                        <div class="guest-avatar">
                            <img src="https://i.pravatar.cc/40?img=2" alt="Guest" />
                        </div>
                        <div class="guest-info">
                            <div class="guest-name">david@gmail.com</div>
                        </div>
                    </div>
                </div>
                <div class="event-detail-row">
                    <i class="fas fa-bell"></i>
                    <span>30 Minutes Before</span>
                </div>
                <div class="event-detail-row">
                    <i class="fas fa-user"></i>
                    <div>
                        <span>david@gmail.com</span>
                        <div class="created-by">Created By: John Doe</div>
                    </div>
                </div>
                <div class="rsvp-section">
                    <span class="rsvp-question">Going?</span>
                    <div class="rsvp-buttons">
                        <button class="rsvp-btn yes active" onclick="setRSVP('yes')">Yes</button>
                        <button class="rsvp-btn no" onclick="setRSVP('no')">No</button>
                        <button class="rsvp-btn maybe" onclick="setRSVP('maybe')">Maybe</button>
                        <button class="rsvp-dropdown">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Modals -->
    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal-content">
            <div class="modal-icon delete-icon">
                <i class="fas fa-exclamation"></i>
            </div>
            <div class="modal-title">Are you sure you want to delete</div>
            <div class="modal-message" id="deleteMessage">the project "Annual Conference" ?</div>
            <div class="modal-actions">
                <button class="modal-btn btn-secondary" onclick="closeModal('deleteModal')">Back</button>
                <button class="modal-btn btn-primary" onclick="confirmDelete()">Yes, Delete It</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal-overlay" id="successModal">
        <div class="modal-content">
            <div class="modal-icon success-icon">
                <i class="fas fa-check"></i>
            </div>
            <div class="modal-message" id="successMessage">Annual Conference has been deleted Successfully !</div>
            <div class="modal-actions">
                <button class="modal-btn btn-primary" onclick="closeModal('successModal')">Continue</button>
            </div>
        </div>
    </div>

    <!-- Event Limit Modal -->
    <div class="modal-overlay" id="eventLimitModal">
        <div class="modal-content">
            <div class="modal-icon warning-icon">
                <i class="fas fa-exclamation"></i>
            </div>
            <div class="modal-title">You've Reached Your Event Limit</div>
            <div class="modal-message">You've reached the event limit for your current plan.<br>Upgrade to add more events.</div>
            <div class="modal-actions">
                <button class="modal-btn btn-secondary" onclick="closeModal('eventLimitModal')">Cancel</button>
                <button class="modal-btn btn-primary" onclick="changePlan()">Change Plan</button>
            </div>
        </div>
    </div>

    <!-- Event Type Selection Modal -->
    <div class="modal-overlay event-type-modal" id="eventTypeModal">
        <div class="modal-content">
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <button onclick="closeModal('eventTypeModal')" style="background: none; border: none; font-size: 18px; margin-right: 15px; cursor: pointer;">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h3 style="margin: 0;">Add New Event</h3>
            </div>
            
            <div class="event-types-grid">
                <div class="event-type-option" onclick="selectEventType('wedding')">
                    <img src="https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Wedding" class="event-type-image">
                    <div class="event-type-name">Wedding</div>
                </div>
                <div class="event-type-option" onclick="selectEventType('birthday')">
                    <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Birthday Party" class="event-type-image">
                    <div class="event-type-name">Birthday Party</div>
                </div>
                <div class="event-type-option" onclick="selectEventType('corporate')">
                    <img src="https://images.unsplash.com/photo-1511578314322-379afb476865?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Corporate Event" class="event-type-image">
                    <div class="event-type-name">Corporate Event</div>
                </div>
                <div class="event-type-option" onclick="selectEventType('baby-shower')">
                    <img src="https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Baby Shower" class="event-type-image">
                    <div class="event-type-name">Baby Shower</div>
                </div>
                <div class="event-type-option" onclick="selectEventType('anniversary')">
                    <img src="https://images.unsplash.com/photo-1464207687429-7505649dae38?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Anniversary" class="event-type-image">
                    <div class="event-type-name">Anniversary</div>
                </div>
                <div class="event-type-option" onclick="selectEventType('graduation')">
                    <img src="https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Graduation Party" class="event-type-image">
                    <div class="event-type-name">Graduation Party</div>
                </div>
                <div class="event-type-option" onclick="selectEventType('other')">
                    <img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" alt="Other Event" class="event-type-image">
                    <div class="event-type-name">Other Event</div>
                </div>
            </div>
            
            <div style="text-align: right;">
                <button class="modal-btn btn-primary" onclick="proceedToEventForm()" id="nextBtn" disabled>Next</button>
            </div>
        </div>
    </div>

    <!-- Event Form Modal -->
    <div class="modal-overlay event-form-modal" id="eventFormModal">
        <div class="modal-content">
            <div style="display: flex; align-items: center; margin-bottom: 30px;">
                <button onclick="goBackToEventTypes()" style="background: none; border: none; font-size: 18px; margin-right: 15px; cursor: pointer;">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h3 style="margin: 0;" id="eventFormTitle">Add New Wedding Event</h3>
            </div>
            
            <form id="eventForm">
                <!-- Project Details Section -->
                <div class="form-section">
                    <h5 class="section-title">Project Details</h5>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Project Type</label>
                            <select class="form-select" id="projectType">
                                <option value="">Select Project Type</option>
                                <option value="wedding">Wedding</option>
                                <option value="birthday">Birthday Party</option>
                                <option value="corporate">Corporate Event</option>
                                <option value="baby-shower">Baby Shower</option>
                                <option value="anniversary">Anniversary</option>
                                <option value="graduation">Graduation Party</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Project name</label>
                            <input type="text" class="form-input" id="projectName" placeholder="Enter project name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Project Cover Image</label>
                            <div class="upload-area compact" onclick="document.getElementById('coverImage').click()">
                                <i class="fas fa-camera"></i>
                                <span>Project Cover Image</span>
                            </div>
                            <input type="file" id="coverImage" style="display: none;" accept="image/*">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="description" placeholder="Enter event description" rows="3"></textarea>
                    </div>
                </div>
                
                <!-- Couple Details Section -->
                <div class="form-section">
                    <h5 class="section-title">Couple Details</h5>
                    
                    <!-- Groom Details -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Groom</label>
                            <select class="form-select" id="groomTitle">
                                <option value="groom">Groom</option>
                                <option value="partner">Partner</option>
                                <option value="spouse">Spouse</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">First Name</label>
                            <input type="text" class="form-input" id="groomFirstName" placeholder="First Name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Last Name</label>
                            <input type="text" class="form-input" id="groomLastName" placeholder="Last Name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="groomEmail" placeholder="Email">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="upload-area compact" onclick="document.getElementById('groomImage').click()">
                            <i class="fas fa-user"></i>
                            <span>Upload Image</span>
                        </div>
                        <input type="file" id="groomImage" style="display: none;" accept="image/*">
                    </div>
                    
                    <!-- Bride Details -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Bride</label>
                            <select class="form-select" id="brideTitle">
                                <option value="bride">Bride</option>
                                <option value="partner">Partner</option>
                                <option value="spouse">Spouse</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">First Name</label>
                            <input type="text" class="form-input" id="brideFirstName" placeholder="First Name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Last Name</label>
                            <input type="text" class="form-input" id="brideLastName" placeholder="Last Name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="brideEmail" placeholder="Email">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="upload-area compact" onclick="document.getElementById('brideImage').click()">
                            <i class="fas fa-user"></i>
                            <span>Upload Image</span>
                        </div>
                        <input type="file" id="brideImage" style="display: none;" accept="image/*">
                    </div>
                </div>
                
                <!-- Event Details Section -->
                <div class="form-section">
                    <h5 class="section-title">Event Details</h5>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Event Date</label>
                            <div class="calendar-container">
                                <input type="text" class="form-input calendar-input" id="eventDate" placeholder="Choose Date" readonly onclick="toggleCalendar()">
                                <i class="fas fa-calendar calendar-icon"></i>
                                <div class="custom-calendar" id="customCalendar">
                                    <div class="calendar-header">
                                        <button type="button" class="calendar-nav" onclick="previousMonth()">
                                            <i class="fas fa-chevron-left"></i>
                                        </button>
                                        <span id="calendarMonth">May 2025</span>
                                        <button type="button" class="calendar-nav" onclick="nextMonth()">
                                            <i class="fas fa-chevron-right"></i>
                                        </button>
                                    </div>
                                    <div class="calendar-grid">
                                        <div class="calendar-weekdays">
                                            <div class="calendar-weekday">Su</div>
                                            <div class="calendar-weekday">Mo</div>
                                            <div class="calendar-weekday">Tu</div>
                                            <div class="calendar-weekday">We</div>
                                            <div class="calendar-weekday">Th</div>
                                            <div class="calendar-weekday">Fr</div>
                                            <div class="calendar-weekday">Sa</div>
                                        </div>
                                        <div class="calendar-days" id="calendarDays">
                                            <!-- Calendar days will be generated by JavaScript -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Event Time</label>
                            <div class="time-picker-input">
                                <input type="text" class="form-input time-display" id="timeDisplay" placeholder="Choose Time" readonly onclick="toggleTimePicker()">
                                <i class="fas fa-clock time-icon"></i>
                                <div class="time-picker-dropdown" id="timePicker" style="display: none;">
                                    <div class="time-picker">
                                        <input type="number" class="time-input" id="timeHour" min="1" max="12" value="10" onchange="updateTimeDisplay()">
                                        <span class="time-separator">:</span>
                                        <input type="number" class="time-input" id="timeMinute" min="0" max="59" value="00" onchange="updateTimeDisplay()">
                                        <div class="am-pm-toggle">
                                            <button type="button" class="am-pm-option active" onclick="toggleAmPm('AM')">AM</button>
                                            <button type="button" class="am-pm-option" onclick="toggleAmPm('PM')">PM</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Venue</label>
                            <input type="text" class="form-input" id="venue" placeholder="Enter venue">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Location</label>
                            <input type="text" class="form-input" id="location" placeholder="Enter location">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Guest Count</label>
                            <input type="number" class="form-input" id="guestCount" placeholder="Number of guests">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Budget $</label>
                            <input type="number" class="form-input" id="budget" placeholder="Enter budget">
                        </div>
                    </div>
                </div>
                
                <!-- Notes Section -->
                <div class="form-section">
                    <h5 class="section-title">Notes</h5>
                    <div class="form-group">
                        <textarea class="form-textarea" id="notes" placeholder="Enter additional notes" rows="3"></textarea>
                    </div>
                    <div style="text-align: right; margin-top: 10px;">
                        <button type="button" class="add-more-btn">Add More</button>
                    </div>
                </div>
                
                <!-- Form Actions -->
                <div class="form-actions">
                    <button type="button" class="modal-btn btn-secondary" onclick="closeModal('eventFormModal')">Back</button>
                    <button type="button" class="modal-btn btn-primary" onclick="saveEvent()">Add</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Global variables
        let sidebarCollapsed = false;
        let selectedEventType = '';
        let currentDate = new Date();
        let selectedDate = null;
        let currentDeleteEventId = null;
        let currentDeleteEventName = '';

        // Sidebar toggle functionality
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            sidebarCollapsed = !sidebarCollapsed;
            
            if (sidebarCollapsed) {
                sidebar.classList.add('collapsed');
                mainContent.classList.add('sidebar-collapsed');
            } else {
                sidebar.classList.remove('collapsed');
                mainContent.classList.remove('sidebar-collapsed');
            }
        }

        // Navigation functionality
        function navigateTo(page) {
            // Remove active class from all nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Add active class to clicked nav link
            event.target.closest('.nav-link').classList.add('active');
            
            // Update header title
            document.querySelector('.header-left h4').textContent = page.charAt(0).toUpperCase() + page.slice(1);
            
            // Show/hide content based on navigation
           
            
            console.log('Navigating to:', page);
        }

        // Modal functionality
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('show');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
            
            // Close calendar if open
            if (modalId === 'eventFormModal') {
                document.getElementById('customCalendar').classList.remove('show');
            }
        }

        // Event functionality
        function selectEvent(eventId) {
            console.log('Selected event:', eventId);
            // Add your event selection logic here
        }

        function editEvent(eventId, event) {
            event.stopPropagation(); // Prevent card click
            console.log('Editing event:', eventId);
            
            // Show success modal for update
            document.getElementById('successMessage').textContent = 'Event details has been updated Successfully !';
            showModal('successModal');
        }

        function deleteEvent(eventId, event) {
            event.stopPropagation(); // Prevent card click
            console.log('Deleting event:', eventId);
            
            // Get event name from card
            const eventCard = event.target.closest('.event-card');
            const eventTitle = eventCard.querySelector('.event-title').textContent;
            
            // Set delete modal content
            currentDeleteEventId = eventId;
            currentDeleteEventName = eventTitle;
            document.getElementById('deleteMessage').textContent = `the project "${eventTitle}" ?`;
            
            showModal('deleteModal');
        }

        function confirmDelete() {
            closeModal('deleteModal');
            
            // Remove the event card from DOM
            const eventCards = document.querySelectorAll('.event-card');
            eventCards.forEach(card => {
                const title = card.querySelector('.event-title').textContent;
                if (title === currentDeleteEventName) {
                    card.remove();
                }
            });
            
            // Show success modal
            document.getElementById('successMessage').textContent = `${currentDeleteEventName} has been deleted Successfully !`;
            showModal('successModal');
        }

        function addEvent() {
            console.log('Adding new event');
            
            // Random chance to show event limit modal (simulate limit reached)
            if (Math.random() < 0.3) {
                showModal('eventLimitModal');
            } else {
                showModal('eventTypeModal');
            }
        }

        function changePlan() {
            closeModal('eventLimitModal');
            console.log('Redirecting to change plan...');
        }

        // Event Type Selection
        function selectEventType(eventType) {
            selectedEventType = eventType;
            
            // Remove selected class from all options
            document.querySelectorAll('.event-type-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            event.target.closest('.event-type-option').classList.add('selected');
            
            // Enable next button
            document.getElementById('nextBtn').disabled = false;
        }

        function proceedToEventForm() {
            if (!selectedEventType) return;
            
            closeModal('eventTypeModal');
            
            // Update form title
            const eventTypeName = selectedEventType.charAt(0).toUpperCase() + selectedEventType.slice(1).replace('-', ' ');
            document.getElementById('eventFormTitle').textContent = `Add New ${eventTypeName} Event`;
            
            // Set project type in form
            document.getElementById('projectType').value = selectedEventType;
            
            showModal('eventFormModal');
            
            // Initialize calendar and time display
            initCalendar();
            initTimeDisplay();
        }

        function goBackToEventTypes() {
            closeModal('eventFormModal');
            showModal('eventTypeModal');
        }

        // Calendar functionality
        function initCalendar() {
            renderCalendar();
        }

        function renderCalendar() {
            const calendarDays = document.getElementById('calendarDays');
            const calendarMonth = document.getElementById('calendarMonth');
            
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            
            // Set month title
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            calendarMonth.textContent = `${monthNames[month]} ${year}`;
            
            // Clear previous days
            calendarDays.innerHTML = '';
            
            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const daysInPrevMonth = new Date(year, month, 0).getDate();
            
            // Add previous month's trailing days
            for (let i = firstDay - 1; i >= 0; i--) {
                const day = daysInPrevMonth - i;
                const dayElement = createDayElement(day, 'other-month');
                calendarDays.appendChild(dayElement);
            }
            
            // Add current month days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = createDayElement(day, 'current-month');
                
                // Mark today
                const today = new Date();
                if (year === today.getFullYear() && month === today.getMonth() && day === today.getDate()) {
                    dayElement.classList.add('today');
                }
                
                // Mark selected date
                if (selectedDate && selectedDate.getFullYear() === year && 
                    selectedDate.getMonth() === month && selectedDate.getDate() === day) {
                    dayElement.classList.add('selected');
                }
                
                calendarDays.appendChild(dayElement);
            }
            
            // Add next month's leading days
            const totalCells = calendarDays.children.length;
            const remainingCells = 42 - totalCells; // 6 rows  7 days
            for (let day = 1; day <= remainingCells && totalCells < 42; day++) {
                const dayElement = createDayElement(day, 'other-month');
                calendarDays.appendChild(dayElement);
            }
        }

        function createDayElement(day, monthType) {
            const dayElement = document.createElement('div');
            dayElement.className = `calendar-day ${monthType}`;
            dayElement.textContent = day;
            
            if (monthType === 'current-month') {
                dayElement.onclick = () => selectDate(day);
            }
            
            return dayElement;
        }

        function selectDate(day) {
            selectedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
            
            // Format date for display
            const formattedDate = selectedDate.toLocaleDateString('en-US', {
                month: '2-digit',
                day: '2-digit',
                year: 'numeric'
            });
            
            document.getElementById('eventDate').value = formattedDate;
            document.getElementById('customCalendar').classList.remove('show');
            
            renderCalendar(); // Re-render to show selection
        }

        function toggleCalendar() {
            const calendar = document.getElementById('customCalendar');
            calendar.classList.toggle('show');
        }

        function previousMonth() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        }

        function nextMonth() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        }

        // Time picker functionality
        function validateTime() {
            const hour = document.getElementById('timeHour');
            const minute = document.getElementById('timeMinute');
            
            // Validate hour
            if (hour.value < 1) hour.value = 1;
            if (hour.value > 12) hour.value = 12;
            
            // Validate minute
            if (minute.value < 0) minute.value = 0;
            if (minute.value > 59) minute.value = 59;
            
            // Add leading zero to minute if needed
            if (minute.value.length === 1) {
                minute.value = '0' + minute.value;
            }
        }

        function toggleAmPm(period) {
            document.querySelectorAll('.am-pm-option').forEach(option => {
                option.classList.remove('active');
            });
            
            event.target.classList.add('active');
            updateTimeDisplay();
        }

        function toggleTimePicker() {
            const timePicker = document.getElementById('timePicker');
            timePicker.style.display = timePicker.style.display === 'none' ? 'block' : 'none';
            timePicker.classList.toggle('show');
        }

        function updateTimeDisplay() {
            const hour = document.getElementById('timeHour').value;
            const minute = document.getElementById('timeMinute').value;
            const ampm = document.querySelector('.am-pm-option.active').textContent;
            
            const formattedHour = hour.padStart(2, '0');
            const formattedMinute = minute.padStart(2, '0');
            
            document.getElementById('timeDisplay').value = `${formattedHour}:${formattedMinute} ${ampm}`;
        }

        // Save event functionality
        function saveEvent() {
            // Get form data
            const formData = {
                projectType: document.getElementById('projectType').value,
                projectName: document.getElementById('projectName').value,
                description: document.getElementById('description').value,
                groomFirstName: document.getElementById('groomFirstName').value,
                groomLastName: document.getElementById('groomLastName').value,
                groomEmail: document.getElementById('groomEmail').value,
                brideFirstName: document.getElementById('brideFirstName').value,
                brideLastName: document.getElementById('brideLastName').value,
                brideEmail: document.getElementById('brideEmail').value,
                eventDate: document.getElementById('eventDate').value,
                timeHour: document.getElementById('timeHour').value,
                timeMinute: document.getElementById('timeMinute').value,
                venue: document.getElementById('venue').value,
                location: document.getElementById('location').value,
                guestCount: document.getElementById('guestCount').value,
                budget: document.getElementById('budget').value,
                notes: document.getElementById('notes').value
            };
            
            console.log('Saving event:', formData);
            
            closeModal('eventFormModal');
            
            // Show success modal




            
            document.getElementById('successMessage').textContent = 'Event has been created successfully!';
            showModal('successModal');
            
            // Reset form
            document.getElementById('eventForm').reset();
            selectedEventType = '';
            selectedDate = null;
        }

        function searchEvents() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const eventCards = document.querySelectorAll('.event-card');
            
            eventCards.forEach(card => {
                const eventTitle = card.querySelector('.event-title').textContent.toLowerCase();
                const eventType = card.querySelector('.event-type span').textContent.toLowerCase();
                
                if (eventTitle.includes(searchTerm) || eventType.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal-overlay')) {
                event.target.classList.remove('show');
            }
        });

        // Close calendar when clicking outside
        document.addEventListener('click', function(event) {
            const calendar = document.getElementById('customCalendar');
            const dateInput = document.getElementById('eventDate');
            
            if (calendar && dateInput && !calendar.contains(event.target) && event.target !== dateInput) {
                calendar.classList.remove('show');
            }
        });

        // Close time picker when clicking outside
        document.addEventListener('click', function(event) {
            const timePicker = document.getElementById('timePicker');
            const timeInput = document.getElementById('timeDisplay');
            
            if (timePicker && timeInput && !timePicker.contains(event.target) && event.target !== timeInput) {
                timePicker.style.display = 'none';
                timePicker.classList.remove('show');
            }
        });

        // Initialize time display
        function initTimeDisplay() {
            updateTimeDisplay();
        }

        // Dashboard Calendar Widget Functions
        let currentWidgetDate = new Date();
        let calendarEvents = {
            '2025-05-08': [{ title: 'Event', time: '12:30pm-1:30 pm', type: 'event' }],
            '2025-05-17': [{ title: 'Event', time: '12:30pm-1:30 pm', type: 'birthday' }]
        };

        function initDashboardCalendar() {
            renderDashboardCalendar();
        }

        function renderDashboardCalendar() {
            const calendarDays = document.getElementById('calendarDaysWidget');
            const currentMonth = document.querySelector('.current-month');
            
            const year = currentWidgetDate.getFullYear();
            const month = currentWidgetDate.getMonth();
            
            // Set month title
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            currentMonth.textContent = `${monthNames[month]} ${year}`;
            
            // Clear previous days
            calendarDays.innerHTML = '';
            
            // Get first day of month and number of days
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const daysInPrevMonth = new Date(year, month, 0).getDate();
            
            // Start from Monday (adjust Sunday=0 to Monday=0)
            const adjustedFirstDay = (firstDay === 0) ? 6 : firstDay - 1;
            
            // Add previous month's trailing days
            for (let i = adjustedFirstDay - 1; i >= 0; i--) {
                const day = daysInPrevMonth - i;
                const dayElement = createCalendarWidgetDay(day, 'other-month', year, month - 1);
                calendarDays.appendChild(dayElement);
            }
            
            // Add current month days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = createCalendarWidgetDay(day, 'current-month', year, month);
                
                // Mark today
                const today = new Date();
                if (year === today.getFullYear() && month === today.getMonth() && day === today.getDate()) {
                    const dayNumber = dayElement.querySelector('.day-number');
                    dayNumber.classList.add('today');
                }
                
                calendarDays.appendChild(dayElement);
            }
            
            // Add next month's leading days
            const totalCells = calendarDays.children.length;
            const remainingCells = 42 - totalCells; // 6 rows  7 days
            for (let day = 1; day <= remainingCells && totalCells < 42; day++) {
                const dayElement = createCalendarWidgetDay(day, 'other-month', year, month + 1);
                calendarDays.appendChild(dayElement);
            }
        }

        function createCalendarWidgetDay(day, monthType, year, month) {
            const dayElement = document.createElement('div');
            dayElement.className = `calendar-day-widget ${monthType}`;
            
            const dayNumber = document.createElement('div');
            dayNumber.className = 'day-number';
            dayNumber.textContent = day;
            
            const dayEvents = document.createElement('div');
            dayEvents.className = 'day-events';
            
            // Check for events on this day
            if (monthType === 'current-month') {
                const dateKey = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const events = calendarEvents[dateKey];
                
                if (events) {
                    events.forEach(event => {
                        const eventElement = document.createElement('div');
                        eventElement.className = `day-event ${event.type}`;
                        eventElement.textContent = `${event.title} ${event.time}`;
                        eventElement.onclick = (e) => {
                            e.stopPropagation();
                            showEventDetail(event, dateKey);
                        };
                        dayEvents.appendChild(eventElement);
                    });
                }
                
                dayElement.onclick = () => selectCalendarDay(day, month, year);
            }
            
            dayElement.appendChild(dayNumber);
            dayElement.appendChild(dayEvents);
            
            return dayElement;
        }

        function previousCalendarMonth() {
            currentWidgetDate.setMonth(currentWidgetDate.getMonth() - 1);
            renderDashboardCalendar();
            updateNavigationButtons();
        }

        function nextCalendarMonth() {
            currentWidgetDate.setMonth(currentWidgetDate.getMonth() + 1);
            renderDashboardCalendar();
            updateNavigationButtons();
        }

        function updateNavigationButtons() {
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            
            const prevMonth = new Date(currentWidgetDate);
            prevMonth.setMonth(prevMonth.getMonth() - 1);
            
            const nextMonth = new Date(currentWidgetDate);
            nextMonth.setMonth(nextMonth.getMonth() + 1);
            
            document.querySelector('.nav-btn').textContent = `< ${monthNames[prevMonth.getMonth()]}`;
            document.querySelectorAll('.nav-btn')[1].textContent = `${monthNames[nextMonth.getMonth()]} >`;
        }

        function selectCalendarDay(day, month, year) {
            console.log(`Selected day: ${day}/${month + 1}/${year}`);
            // You can add day selection logic here
        }

        function showEventDetail(event, dateKey) {
            // Populate event detail modal
            document.getElementById('eventDetailTitle').textContent = event.title + ' Event';
            
            // Convert date for display
            const date = new Date(dateKey);
            const options = { weekday: 'long', month: 'long', day: 'numeric' };
            const formattedDate = date.toLocaleDateString('en-US', options);
            
            document.getElementById('eventDetailTime').textContent = `${formattedDate} ${event.time}`;
            
            showModal('eventDetailModal');
        }

        function editEventDetail() {
            closeModal('eventDetailModal');
            console.log('Edit event detail');
        }

        function deleteEventDetail() {
            closeModal('eventDetailModal');
            console.log('Delete event detail');
        }

        // RSVP functionality
        function setRSVP(response) {
            document.querySelectorAll('.rsvp-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            event.target.classList.add('active', response);
            console.log(`RSVP set to: ${response}`);
        }

     

        // Mobile responsive sidebar
        function handleResize() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            if (window.innerWidth <= 768) {
                sidebar.classList.add('collapsed');
                mainContent.classList.add('sidebar-collapsed');
                sidebarCollapsed = true;
            } else if (!sidebarCollapsed) {
                sidebar.classList.remove('collapsed');
                mainContent.classList.remove('sidebar-collapsed');
            }
        }

        // Initialize responsive behavior
        window.addEventListener('resize', handleResize);
        handleResize(); // Call on page load

        // Add fade out animation for delete
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                0% { opacity: 1; transform: scale(1); }
                100% { opacity: 0; transform: scale(0.8); }
            }
        `;
        document.head.appendChild(style);

        // Draw Pie Chart
        function drawPieChart() {
            const canvas = document.getElementById('eventTypeChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 80;
            
            // Data for pie chart
            const data = [
                { label: 'Wedding', value: 50, color: '#9B4431' },
                { label: 'Corporate', value: 10, color: '#D4B5A0' },
                { label: 'Birthday', value: 10, color: '#E8C4B0' },
                { label: 'Baby Shower', value: 10, color: '#A67B5B' },
                { label: 'Anniversary', value: 10, color: '#F5F2E8' },
                { label: 'Graduation Party', value: 10, color: '#C19A6B' },
                { label: 'Other Event', value: 10, color: '#DEB887' }
            ];
            
            let currentAngle = 0;
            
            data.forEach(segment => {
                const sliceAngle = (segment.value / 100) * 2 * Math.PI;
                
                // Draw pie slice
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                ctx.closePath();
                ctx.fillStyle = segment.color;
                ctx.fill();
                
                // Draw border
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                currentAngle += sliceAngle;
            });
        }

        // Draw Bar Chart
        function drawBarChart() {
            const canvas = document.getElementById('rsvpChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const chartWidth = canvas.width - 120;
            const chartHeight = canvas.height - 80;
            const startX = 60;
            const startY = 40;
            
            // Data for bar chart matching the image
            const data = [
                { label: 'Birthday', value: 45, color: '#E8C4B0' },
                { label: 'Wedding', value: 95, color: '#9B4431' },
                { label: 'Corporate', value: 60, color: '#D4B5A0' },
                { label: 'Baby Shower', value: 40, color: '#E8C4B0' },
                { label: 'Graduation', value: 75, color: '#9B4431' },
                { label: 'Anniversary', value: 65, color: '#A67B5B' },
                { label: 'Other', value: 80, color: '#E8C4B0' }
            ];
            
            const barWidth = 50;
            const spacing = 65;
            const maxValue = 100;
            
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw bars with rounded corners
            data.forEach((item, index) => {
                const barHeight = (item.value / maxValue) * chartHeight;
                const x = startX + index * spacing;
                const y = startY + chartHeight - barHeight;
                const radius = 25; // Rounded top
                
                // Draw rounded rectangle
                ctx.beginPath();
                ctx.moveTo(x + radius, y);
                ctx.lineTo(x + barWidth - radius, y);
                ctx.quadraticCurveTo(x + barWidth, y, x + barWidth, y + radius);
                ctx.lineTo(x + barWidth, y + barHeight);
                ctx.lineTo(x, y + barHeight);
                ctx.lineTo(x, y + radius);
                ctx.quadraticCurveTo(x, y, x + radius, y);
                ctx.closePath();
                
                ctx.fillStyle = item.color;
                ctx.fill();
                
                // Draw label
                ctx.fillStyle = '#999';
                ctx.font = '11px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(item.label, x + barWidth / 2, startY + chartHeight + 25);
            });
        }

        // Initialize charts when dashboard loads
        function initializeCharts() {
            setTimeout(() => {
                drawPieChart();
                drawBarChart();
            }, 100);
        }

        // Update the navigation function to initialize charts
        const originalNavigateTo = navigateTo;
        navigateTo = function(section) {
            originalNavigateTo(section);
            if (section === 'dashboard') {
                initializeCharts();
            }
        };
    </script>
</body>
</html>
